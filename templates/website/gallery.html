{% extends "base.html" %}
{% block title %}Gallery â€” {{ site_settings.site_name|default:"Al-Hadid" }}{% endblock %}
{% block content %}

<style>
  .gold-underline::after{
    content:""; display:block; width:72px; height:3px; margin-top:12px; border-radius:999px;
    background:linear-gradient(90deg,#cab26b,#d1ad51);
  }
  .gallery-card{ position:relative; overflow:hidden; transition:transform .25s ease, box-shadow .25s ease }
  .gallery-card:hover{ transform:translateY(-2px); box-shadow:0 14px 30px rgba(16,24,40,.12) }
  .gallery-card::before{
    content:""; position:absolute; inset:0 0 auto 0; height:4px;
    background:linear-gradient(90deg,#d1ad51,var(--tw-primary,#10b981));
  }
</style>

<section class="max-w-7xl mx-auto px-4 py-10">
  <h1 class="text-3xl font-semibold mb-2">Gallery</h1>
  <div class="gold-underline mb-6"></div>

  <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
    {% if gallery %}
      {% for item in gallery %}
      <figure class="card gallery-card overflow-hidden">
        {% if item.image %}<img src="{{ item.image.url }}" class="h-56 w-full object-cover" alt="">{% endif %}
        <figcaption class="p-4">
          <h3 class="font-semibold">
            {% firstof item.title "Untitled" as g_title %}{{ g_title }}
          </h3>

          {% firstof item.created_at item.date "" as g_dt %}
          {% if g_dt %}
            <div class="text-xs text-gray-500">{{ g_dt }}</div>
          {% endif %}

          <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">
            {% firstof item.description item.caption item.text "" as g_txt %}
            {{ g_txt|striptags|truncatewords:24 }}
          </p>
        </figcaption>
      </figure>
      {% endfor %}
    {% else %}
      <div class="text-gray-500">No gallery items published yet.</div>
    {% endif %}
  </div>
</section>
{% endblock %}
