{% extends "base.html" %}
{% block title %}Contact Us — {{ site_settings.site_name|default:"Al-Hadid Foundation" }}{% endblock %}

{% block content %}
<!-- Hero / Page Header -->
<section class="bg-gradient-to-br from-emerald-700 via-emerald-600 to-slate-900 text-white">
  <div class="mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8">
    <h1 class="text-3xl font-extrabold tracking-tight sm:text-4xl">Contact Us</h1>
    <p class="mt-2 text-emerald-100">Get in touch with us — we’d love to hear from you.</p>
  </div>
</section>

<!-- Contact Form & Info -->
<section class="py-12 sm:py-16">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    {% if messages %}
      <div class="mb-6 space-y-3">
        {% for message in messages %}
          {% if 'success' in message.tags %}
            <div class="rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-emerald-800 dark:border-emerald-900/50 dark:bg-emerald-900/30 dark:text-emerald-200">
              {{ message }}
            </div>
          {% elif 'error' in message.tags %}
            <div class="rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-red-800 dark:border-red-900/50 dark:bg-red-900/30 dark:text-red-200">
              {{ message }}
            </div>
          {% elif 'warning' in message.tags %}
            <div class="rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-amber-800 dark:border-amber-900/50 dark:bg-amber-900/30 dark:text-amber-200">
              {{ message }}
            </div>
          {% else %}
            <div class="rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-slate-700 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-200">
              {{ message }}
            </div>
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}

    <div class="grid grid-cols-1 gap-8 lg:grid-cols-3">
      <!-- Form -->
      <div class="lg:col-span-2">
        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900 sm:p-8">
          <h3 class="text-xl font-semibold text-slate-800 dark:text-slate-100">Send us a Message</h3>
          <form method="post" class="mt-6 space-y-5">
            {% csrf_token %}

            {% if form.non_field_errors %}
                <div class="rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-red-800 dark:border-red-900/50 dark:bg-red-900/30 dark:text-red-200">
                {{ form.non_field_errors }}
                </div>
            {% endif %}

            <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                <div>
                <label class="mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300">Full Name *</label>
                {{ form.name }}
                {% if form.name.errors %}
                    <p class="mt-1 text-sm text-red-600 dark:text-red-400">{{ form.name.errors|striptags }}</p>
                {% endif %}
                </div>
                <div>
                <label class="mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300">Email Address *</label>
                {{ form.email }}
                {% if form.email.errors %}
                    <p class="mt-1 text-sm text-red-600 dark:text-red-400">{{ form.email.errors|striptags }}</p>
                {% endif %}
                </div>
            </div>

            <div>
                <label class="mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300">Subject *</label>
                {{ form.subject }}
                {% if form.subject.errors %}
                <p class="mt-1 text-sm text-red-600 dark:text-red-400">{{ form.subject.errors|striptags }}</p>
                {% endif %}
            </div>

            <div>
                <label class="mb-1 block text-sm font-medium text-slate-700 dark:text-slate-300">Message *</label>
                {{ form.message }}
                {% if form.message.errors %}
                <p class="mt-1 text-sm text-red-600 dark:text-red-400">{{ form.message.errors|striptags }}</p>
                {% endif %}
            </div>

            {{ form.website }} {# honeypot (hidden) #}

            <button type="submit"
                    class="inline-flex w-full items-center justify-center gap-2 rounded-xl bg-emerald-600 px-5 py-3 font-semibold text-white shadow-sm transition hover:bg-emerald-700 sm:w-auto">
                Send Message
            </button>
            </form>
        </div>
      </div>

      <!-- Contact Info -->
      <div>
        <div class="flex h-full flex-col rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900 sm:p-8">
          <h4 class="text-lg font-semibold text-slate-800 dark:text-slate-100">Contact Information</h4>

          {% if site_settings.phone %}
          <div class="mt-6 flex items-start gap-3">
            <div class="flex h-12 w-12 items-center justify-center rounded-full bg-emerald-600/10 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-300">
              <!-- phone -->
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M2 5a2 2 0 0 1 2-2h1.6a2 2 0 0 1 1.94 1.515l.6 2.399a2 2 0 0 1-.52 1.938L6.7 10.774a12.04 12.04 0 0 0 6.526 6.526l1.922-1.92a2 2 0 0 1 1.938-.52l2.4.6A2 2 0 0 1 21 17.4V19a2 2 0 0 1-2 2h-.5C9.596 21 3 14.404 3 6.5V6a2 2 0 0 1-1-1z"/></svg>
            </div>
            <div>
              <div class="text-sm font-medium text-slate-700 dark:text-slate-200">Phone</div>
              <a class="text-emerald-700 hover:underline dark:text-emerald-300" href="tel:{{ site_settings.phone }}">{{ site_settings.phone }}</a>
            </div>
          </div>
          {% endif %}

          {% if site_settings.email %}
          <div class="mt-5 flex items-start gap-3">
            <div class="flex h-12 w-12 items-center justify-center rounded-full bg-emerald-600/10 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-300">
              <!-- mail -->
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M2 6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v.217l-10 6.25L2 6.217V6zm20 2.383-8.84 5.523a2 2 0 0 1-2.32 0L2 8.383V18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8.383z"/></svg>
            </div>
            <div>
              <div class="text-sm font-medium text-slate-700 dark:text-slate-200">Email</div>
              <a class="text-emerald-700 hover:underline dark:text-emerald-300" href="mailto:{{ site_settings.email }}">{{ site_settings.email }}</a>
            </div>
          </div>
          {% endif %}

          {% if site_settings.address %}
          <div class="mt-5 flex items-start gap-3">
            <div class="flex h-12 w-12 items-center justify-center rounded-full bg-emerald-600/10 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-300">
              <!-- map-pin -->
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z" clip-rule="evenodd"/></svg>
            </div>
            <div>
              <div class="text-sm font-medium text-slate-700 dark:text-slate-200">Address</div>
              <p class="text-slate-600 dark:text-slate-400">{{ site_settings.address }}</p>
            </div>
          </div>
          {% endif %}

          {% if site_settings.whatsapp_number %}
          <a href="https://wa.me/{{ site_settings.whatsapp_number }}" target="_blank"
             class="mt-6 inline-flex w-full items-center justify-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 font-semibold text-white shadow-sm transition hover:bg-emerald-700">
            <!-- whatsapp icon -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M20.52 3.48A11.9 11.9 0 0 0 12.06 0C5.47 0 .13 5.35.13 11.95c0 2.1.55 4.16 1.6 5.98L0 24l6.24-1.66a11.91 11.91 0 0 0 5.83 1.53h.01c6.59 0 11.93-5.35 11.93-11.95a11.9 11.9 0 0 0-3.49-8.44zM12.07 21.3c-1.9 0-3.75-.51-5.37-1.48l-.38-.22-3.7.98.99-3.61-.25-.39A9.15 9.15 0 0 1 2.94 12C2.94 6.95 6.99 2.9 12.06 2.9c2.44 0 4.73.95 6.45 2.67a9.06 9.06 0 0 1 2.66 6.41c0 5.07-4.05 9.32-9.1 9.32z"/><path d="M17.18 14.24c-.28-.14-1.64-.8-1.9-.89-.26-.1-.45-.14-.64.14-.19.28-.73.89-.9 1.07-.17.19-.33.21-.61.07-.28-.14-1.18-.43-2.25-1.38-.83-.74-1.39-1.66-1.55-1.94-.16-.28-.02-.43.12-.57.12-.12.28-.33.42-.5.14-.17.19-.28.28-.47.09-.19.05-.36-.02-.5-.07-.14-.64-1.55-.88-2.12-.23-.56-.47-.48-.64-.48h-.54c-.19 0-.5.07-.76.36-.26.28-1 1-1 2.44s1.03 2.83 1.17 3.03c.14.19 2.03 3.1 4.92 4.35.69.3 1.23.48 1.65.61.69.22 1.31.19 1.8.12.55-.08 1.64-.67 1.87-1.3.23-.64.23-1.19.16-1.3-.06-.11-.25-.18-.53-.32z"/></svg>
            Chat on WhatsApp
          </a>
          {% endif %}

          <!-- Socials -->
          <div class="mt-8">
            <h6 class="mb-3 text-sm font-semibold text-slate-700 dark:text-slate-200">Follow Us</h6>
            <div class="flex gap-2">
              {% if site_settings.facebook_url %}
              <a href="{{ site_settings.facebook_url }}" target="_blank"
                 class="inline-flex items-center justify-center rounded-lg border border-slate-200 px-3 py-2 text-slate-600 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-800">
                <!-- facebook -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M22 12.06C22 6.477 17.523 2 11.94 2S2 6.477 2 12.06c0 5.018 3.676 9.173 8.484 9.94v-7.03H7.898v-2.91h2.586V9.845c0-2.56 1.523-3.975 3.856-3.975 1.118 0 2.286.2 2.286.2v2.51h-1.289c-1.27 0-1.665.788-1.665 1.595v1.912h2.834l-.453 2.91h-2.38V22c4.808-.767 8.484-4.922 8.484-9.94z"/></svg>
              </a>
              {% endif %}
              {% if site_settings.twitter_url %}
              <a href="{{ site_settings.twitter_url }}" target="_blank"
                 class="inline-flex items-center justify-center rounded-lg border border-slate-200 px-3 py-2 text-slate-600 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-800">
                <!-- twitter -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M22 5.92a8.38 8.38 0 0 1-2.36.64 4.12 4.12 0 0 0 1.8-2.27 8.2 8.2 0 0 1-2.6 1 4.1 4.1 0 0 0-7 3.74A11.63 11.63 0 0 1 3 4.78a4.08 4.08 0 0 0 1.27 5.47 4.09 4.09 0 0 1-1.86-.5v.05a4.1 4.1 0 0 0 3.29 4 4.1 4.1 0 0 1-1.85.07 4.1 4.1 0 0 0 3.82 2.84A8.23 8.23 0 0 1 2 18.58a11.62 11.62 0 0 0 6.29 1.84c7.55 0 11.68-6.13 11.68-11.45 0-.17 0-.34-.01-.51A8.2 8.2 0 0 0 22 5.92z"/></svg>
              </a>
              {% endif %}
              {% if site_settings.instagram_url %}
              <a href="{{ site_settings.instagram_url }}" target="_blank"
                 class="inline-flex items-center justify-center rounded-lg border border-slate-200 px-3 py-2 text-slate-600 transition hover:bg-slate-50 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-800">
                <!-- instagram -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 .001 10.001A5 5 0 0 0 12 7zm0 2.2a2.8 2.8 0 1 1 0 5.6 2.8 2.8 0 0 1 0-5.6zM18.3 6.2a1.2 1.2 0 1 0 0 2.4 1.2 1.2 0 0 0 0-2.4z"/></svg>
              </a>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      <!-- /Contact Info -->
    </div>
  </div>
</section>

{% if site_settings.google_maps_embed %}
<!-- Map -->
<section class="py-12 sm:py-16">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <h2 class="text-2xl font-bold text-slate-800 dark:text-slate-100">Find Us</h2>
      <p class="mt-1 text-slate-600 dark:text-slate-400">Visit us at our location</p>
    </div>
    <div class="mt-6 overflow-hidden rounded-2xl border border-slate-200 shadow-sm dark:border-slate-800">
      <div class="h-96 [&_iframe]:h-full [&_iframe]:w-full">
        {{ site_settings.google_maps_embed|safe }}
      </div>
    </div>
  </div>
</section>
{% endif %}

<!-- FAQ (Accessible Accordion via <details>) -->
<section class="bg-slate-50 py-12 dark:bg-slate-950 sm:py-16">
  <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <h2 class="text-2xl font-bold text-slate-800 dark:text-slate-100">Frequently Asked Questions</h2>
      <p class="mt-1 text-slate-600 dark:text-slate-400">Quick answers to common questions</p>
    </div>

    <div class="mt-8 space-y-3">
      <details class="group rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900">
        <summary class="flex cursor-pointer list-none items-center justify-between">
          <span class="font-medium text-slate-800 dark:text-slate-100">
            How can I volunteer with Al-Hadid Foundation?
          </span>
          <span class="ml-3 shrink-0 rounded-md bg-slate-100 px-2 py-1 text-xs text-slate-600 transition group-open:rotate-180 dark:bg-slate-800 dark:text-slate-300">▼</span>
        </summary>
        <div class="mt-3 text-slate-600 dark:text-slate-300">
          We welcome volunteers from all backgrounds! Contact us through this form or call us directly to discuss opportunities that match your skills and interests.
        </div>
      </details>

      <details class="group rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900">
        <summary class="flex cursor-pointer list-none items-center justify-between">
          <span class="font-medium text-slate-800 dark:text-slate-100">
            What programs does the foundation currently run?
          </span>
          <span class="ml-3 shrink-0 rounded-md bg-slate-100 px-2 py-1 text-xs text-slate-600 transition group-open:rotate-180 dark:bg-slate-800 dark:text-slate-300">▼</span>
        </summary>
        <div class="mt-3 text-slate-600 dark:text-slate-300">
          We run programs for orphans, women’s Islamic empowerment, mosque development, and premature baby care. Visit our Programs page to learn more.
        </div>
      </details>

      <details class="group rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900">
        <summary class="flex cursor-pointer list-none items-center justify-between">
          <span class="font-medium text-slate-800 dark:text-slate-100">
            How are donations used?
          </span>
          <span class="ml-3 shrink-0 rounded-md bg-slate-100 px-2 py-1 text-xs text-slate-600 transition group-open:rotate-180 dark:bg-slate-800 dark:text-slate-300">▼</span>
        </summary>
        <div class="mt-3 text-slate-600 dark:text-slate-300">
          We maintain transparency: the vast majority goes directly to programs, with a small portion to operations and fundraising. Donor reports are shared regularly.
        </div>
      </details>

      <details class="group rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900">
        <summary class="flex cursor-pointer list-none items-center justify-between">
          <span class="font-medium text-slate-800 dark:text-slate-100">
            Can organizations partner with you?
          </span>
          <span class="ml-3 shrink-0 rounded-md bg-slate-100 px-2 py-1 text-xs text-slate-600 transition group-open:rotate-180 dark:bg-slate-800 dark:text-slate-300">▼</span>
        </summary>
        <div class="mt-3 text-slate-600 dark:text-slate-300">
          Absolutely! We actively seek partnerships with like-minded organizations, businesses, and institutions. Contact us to discuss collaboration.
        </div>
      </details>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="bg-gradient-to-br from-emerald-700 via-emerald-600 to-slate-900 py-12 text-white sm:py-16">
  <div class="mx-auto max-w-7xl px-4 text-center sm:px-6 lg:px-8">
    <h2 class="text-2xl font-bold sm:text-3xl">Ready to Get Involved?</h2>
    <p class="mt-2 text-emerald-100">There are many ways to support our mission and make a difference.</p>

    <div class="mx-auto mt-6 grid max-w-3xl grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4">
      <a href="{% url 'website:donate' %}" class="inline-flex items-center justify-center rounded-xl bg-white px-4 py-3 font-semibold text-emerald-700 shadow-sm transition hover:bg-emerald-50">
        <!-- heart -->
        <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M12.1 4.44c-2.28-2.28-6.1-2.28-8.38 0-2.28 2.28-2.28 5.98 0 8.26l7.27 7.28c.56.56 1.46.56 2.02 0l7.27-7.28c2.28-2.28 2.28-5.98 0-8.26-2.28-2.28-6-2.28-8.28 0l-.3.3-.3-.3z"/></svg>
        Donate
      </a>
      <a href="{% url 'website:programs' %}" class="inline-flex items-center justify-center rounded-xl border border-white/20 bg-white/10 px-4 py-3 font-semibold text-white backdrop-blur transition hover:bg-white/20">
        <!-- hands-helping -->
        <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M3 12a4 4 0 0 1 4-4h3v3H7a1 1 0 1 0 0 2h5l1.5 1.5a3 3 0 0 0 2.12.88H21v3h-5.38a6 6 0 0 1-4.24-1.76L10.62 15H7a4 4 0 0 1-4-4z"/><path d="M21 11a4 4 0 0 0-4-4h-3V4h3a7 7 0 0 1 7 7v1h-3v-1z"/></svg>
        Volunteer
      </a>
      <a href="{% url 'website:about' %}" class="inline-flex items-center justify-center rounded-xl border border-white/20 bg-white/10 px-4 py-3 font-semibold text-white backdrop-blur transition hover:bg-white/20">
        <!-- handshake -->
        <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M13 6a3 3 0 0 1 3 3v1h2V9a5 5 0 0 0-5-5H8a5 5 0 0 0-5 5v1h2V9a3 3 0 0 1 3-3h5z"/><path d="M21 12h-6.586l-2 2H10l-2 2H3v2h5.586l2-2H12l2-2H21v-2z"/></svg>
        Partner
      </a>
      <a href="{% url 'website:news_events' %}" class="inline-flex items-center justify-center rounded-xl border border-white/20 bg-white/10 px-4 py-3 font-semibold text-white backdrop-blur transition hover:bg-white/20">
        <!-- calendar -->
        <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M7 2h2v2h6V2h2v2h2a2 2 0 0 1 2 2v3H3V6a2 2 0 0 1 2-2h2V2z"/><path d="M3 10h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8z"/></svg>
        Events
      </a>
    </div>
  </div>
</section>
{% endblock %}
