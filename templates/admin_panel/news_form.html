{% extends "admin_panel/base.html" %}
{% block title %}{{ title|default:"News" }} â€” {{ site_settings.site_name|default:"Al-Hadid" }}{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">{{ title|default:"News" }}</h1>
<div class="card p-5">
  <form method="post" enctype="multipart/form-data">{% csrf_token %}
    {% if form %}{{ form.as_p }}{% else %}
      <div class="space-y-3">
        <label class="block">
          <span class="text-sm">Title</span>
          <input name="title" class="w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-lg" value="{{ news.title }}">
        </label>
        <label class="block">
          <span class="text-sm">Content</span>
          <textarea name="content" rows="8" class="w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-lg">{{ news.content }}</textarea>
        </label>
        <label class="block">
          <span class="text-sm">Image</span>
          {% if news.image %}<img src="{{ news.image.url }}" class="h-24 rounded mb-2" alt="">{% endif %}
          <input type="file" name="image">
        </label>
        <label class="inline-flex items-center gap-2">
          <input type="checkbox" name="is_published" {% if news.is_published %}checked{% endif %}>
          <span>Published</span>
        </label>
      </div>
    {% endif %}
    <div class="mt-4 flex gap-2">
      <button class="btn btn-primary">Save</button>
      <a href="{% url 'admin_panel:news_list' %}" class="btn btn-outline">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
